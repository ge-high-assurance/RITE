<?xml version="1.0"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
    <xs:element name="form">
        <xs:complexType>
            <xs:sequence maxOccurs="unbounded">
                <xs:choice>
                    <xs:element name="box">
                        <xs:complexType>
                            <xs:sequence maxOccurs="unbounded">
                                <xs:element name="control">
                                    <xs:complexType>
                                        <xs:simpleContent>
                                            <xs:extension base="xs:string">
                                                <xs:attribute name="id" type="xs:ID" />
                                                <xs:attribute name="language" type="xs:string">
                                                    <xs:annotation>
                                                        <xs:documentation>This atribute is intended
                                                            to convey the programming language used
                                                            to assist syntax highlighting and output
                                                            capture.</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                                <xs:attribute name="type">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:token">
                                                            <xs:enumeration value="label" />
                                                            <xs:enumeration value="textbox" />
                                                            <xs:enumeration value="checkbox" />
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="checked" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>This attribute is set when
                                                            the checkbox has been checked and should
                                                            be omitted otherwise.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:token">
                                                            <xs:enumeration value="checked" />
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="readonly" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>This attribute indicates
                                                            that this control should not be editable
                                                            by the user and should maintain the
                                                            value initially set in the XML document.
                                                            This could be used to preserve previous
                                                            user inputs or to provide workflow
                                                            outputs.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:token">
                                                            <xs:enumeration value="readonly" />
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="error" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>This attribute indicates
                                                            the control is indicating an error and
                                                            should be rendered to indicate this to
                                                            the user.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:token">
                                                            <xs:enumeration value="error" />
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:extension>
                                        </xs:simpleContent>
                                    </xs:complexType>
                                </xs:element>
                            </xs:sequence>
                        </xs:complexType>
                    </xs:element>

                    <xs:element name="resource" minOccurs="0" maxOccurs="unbounded">
                        <xs:annotation>
                            <xs:documentation>Resources provide a mechanism for the workflow to
                                request the literal contents of one of the resources from the
                                current workspace. When the wizard submits a form, it should
                                populate resource tags with the current text content of the resource
                                requested by "path". These elements are transparent to the user.</xs:documentation>
                        </xs:annotation>
                        <xs:complexType>
                            <xs:simpleContent>
                                <xs:extension base="xs:string">
                                    <xs:annotation>
                                        <xs:documentation>The content of the resource is embedded in
                                            the body of the resource tag.</xs:documentation>
                                    </xs:annotation>
                                    <xs:attribute name="id" type="xs:ID" use="required" />
                                    <xs:attribute name="path" type="xs:string" use="required">
                                        <xs:annotation>
                                            <xs:documentation>The workspace-relative path to the
                                                resource.</xs:documentation>
                                        </xs:annotation>
                                    </xs:attribute>
                                </xs:extension>
                            </xs:simpleContent>
                        </xs:complexType>
                    </xs:element>

                    <xs:element name="connection">
                        <xs:annotation>
                            <xs:documentation>Connection elements convey the current RACK settings
                                from RITE to the workflow target. These elements are transparent to
                                the user. The connection element should be provided on every for
                                submission.</xs:documentation>
                        </xs:annotation>
                        <xs:complexType>
                            <xs:choice minOccurs="3" maxOccurs="3">
                                <xs:element name="url" type="xs:string" minOccurs="1" maxOccurs="1" />
                                <xs:element name="data-graph" type="xs:string" minOccurs="1"
                                    maxOccurs="unbounded" />
                                <xs:element name="model-graph" type="xs:string" minOccurs="1"
                                    maxOccurs="unbounded" />
                            </xs:choice>
                        </xs:complexType>
                    </xs:element>

                    <xs:element name="parameter">
                        <xs:annotation>
                            <xs:documentation>A parameter is hidden argument that the workflow can
                                use to store context to be used upon form submission. This could
                                enable the workflow to keep track of what step it is on or to make
                                other kinds of incremental progress. The body is specified by the
                                workflow and the body should be preserved upon submission.</xs:documentation>
                        </xs:annotation>
                        <xs:complexType>
                            <xs:simpleContent>
                                <xs:extension base="xs:string">
                                    <xs:attribute name="id" type="xs:ID" use="required" />
                                </xs:extension>
                            </xs:simpleContent>
                        </xs:complexType>
                    </xs:element>
                </xs:choice>
            </xs:sequence>
            <xs:attribute name="workflow" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>The name of the workflow being invoked. This can inform the
                        workflow program which identity it is being invoked as and also enables the
                        wizard to know which workflow program was being used when restored from
                        saved XML.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="complete" use="optional">
                <xs:annotation>
                    <xs:documentation>This attribute indicates that the workflow is complete and no
                        further submission is meaningful. To rerun the workflow with different
                        values the user should use the back button first.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:token">
                        <xs:enumeration value="complete" />
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
</xs:schema>
